webpackJsonp([17],{W2Q3:function(r,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=o("P9l9");var e,i,a,n={name:"login",data:function(){return{requestProject:"gic-authcenter",account:"",password:"",errorMsg:"",errorBool1:!1,errorBool2:!1,successBool1:!1,successBool2:!1,currentYear:"",saveFlag:!0}},mounted:function(){this.currentYear=(new Date).getFullYear()},methods:{hasAccount:(e=function(r){"keyup"==r?""==this.account?(this.errorBool1=!0,this.successBool1=!1):(this.successBool1=!0,this.errorBool1=!1,this.errorMsg=""):"blur"==r&&(this.successBool1=!1)},i=500,i=i||200,function(){var r=this,s=arguments;a&&clearTimeout(a),a=setTimeout(function(){a=null,e.apply(r,s)},i)}),hasPassword:function(r){this.errorBool1||("keyup"==r?""==this.password?(this.errorBool2=!0,this.successBool2=!1):(this.successBool2=!0,this.errorBool2=!1,this.errorMsg="",this.loginBtn()):"blur"==r&&(this.successBool2=!1))},loginBtn:function(){if(!this.errorBool1){if(""==this.account)return this.errorBool1=!0,this.errorMsg="请输入账号",void(this.saveFlag=!1);if(this.errorBool1=!1,this.saveFlag=!0,""==this.password)return this.errorBool2=!0,this.errorMsg="请输入密码",void(this.saveFlag=!1);this.saveFlag=!0}this.saveFlag&&this.submitLogin()},submitLogin:function(){var r=this;Object(t.c)("/gic-authcenter/login",{requestProject:this.requestProject,username:this.account,password:this.password}).then(function(s){var o=s.data;r.saveFlag=!1,0==o.errorCode?(r.saveFlag=!0,r.$router.push("/index")):4005==o.errorCode?(r.errorMsg="账号已失效",r.errorBool1=!0):4006==o.errorCode?(r.errorMsg="账号被锁定",r.errorBool1=!0):4007==o.errorCode?(r.errorMsg="账号或密码错误",r.errorBool2=!0):4008==o.errorCode?(r.errorMsg="账号不存在",r.errorBool1=!0):r.$message.error(o.message)})}}},c={render:function(){var r=this,s=r.$createElement,o=r._self._c||s;return o("div",{staticClass:"login-wrap"},[o("div",{staticClass:"login-fl"},[r._m(0),r._v(" "),r._m(1),r._v(" "),o("div",{staticClass:"footer"},[r._v("Copyright "+r._s(r.currentYear)+" Demogic.com All Rights Reserved 浙ICP备15033117号-1")])]),r._v(" "),o("div",{staticClass:"login-fr"},[o("h3",[r._v("登录达摩运维平台")]),r._v(" "),o("div",{staticClass:"login-content"},[o("h4",[r._v("登录账号")]),r._v(" "),o("div",{staticClass:"input-w350",class:{error:r.errorBool1,success:r.successBool1}},[o("input",{directives:[{name:"model",rawName:"v-model.trim",value:r.account,expression:"account",modifiers:{trim:!0}}],attrs:{autocomplete:"on",placeholder:"请输入账号"},domProps:{value:r.account},on:{keyup:function(s){return r.hasAccount("keyup")},blur:[function(s){return r.hasAccount("blur")},function(s){return r.$forceUpdate()}],focus:function(s){r.successBool1=!0},input:function(s){s.target.composing||(r.account=s.target.value.trim())}}})]),r._v(" "),o("h4",[r._v("登录密码")]),r._v(" "),o("div",{staticClass:"input-w350 input-password",class:{error:r.errorBool2,success:r.successBool2}},[o("input",{directives:[{name:"model",rawName:"v-model",value:r.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:r.password},on:{keyup:function(s){return!s.type.indexOf("key")&&r._k(s.keyCode,"enter",13,s.key,"Enter")?null:r.hasPassword("keyup")},blur:function(s){return r.hasPassword("blur")},focus:function(s){r.successBool2=!0},input:function(s){s.target.composing||(r.password=s.target.value)}}})])]),r._v(" "),o("div",{staticClass:"login-error-tip"},[o("p",[r._v(r._s(r.errorMsg))])]),r._v(" "),o("el-button",{staticClass:"login-btn",attrs:{type:"primary"},on:{click:r.loginBtn}},[r._v("登 录")])],1)])},staticRenderFns:[function(){var r=this.$createElement,s=this._self._c||r;return s("div",{staticClass:"logo"},[s("img",{attrs:{src:o("ZBJ4"),alt:"",width:"247",height:"45"}})])},function(){var r=this.$createElement,s=this._self._c||r;return s("div",{staticClass:"center-img"},[s("img",{attrs:{src:o("udlM"),alt:"",width:"839",height:"850"}})])}]};var u=o("C7Lr")(n,c,!1,function(r){o("akaL")},"data-v-057297fd",null);s.default=u.exports},akaL:function(r,s){}});
//# sourceMappingURL=17.8dc01dad3aa6eabd0604.1560498375860.js.map